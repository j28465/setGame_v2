(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70e9e058"],{"0d26":function(e,t,l){"use strict";l.r(t);var c=l("7a23"),n=l("2a7d"),a=l("ae8d"),o=l("e6f3");const r={class:"msgBox"},s=Object(c["createElementVNode"])("div",{class:"msgBg"},null,-1),i={class:"msgLayout"},b={class:"msgClose"},d={class:"msgTitle"},u={class:"msgDesc"},p={class:"msgCmd"},O={key:0},v={key:0};var j=Object(c["defineComponent"])({__name:"MsgBox",props:{open:{type:Boolean,required:!0},title:{type:String,required:!0},desc:{type:String},btnL:{type:String},btnR:{type:String}},emits:["closeMsgBox","clickBtnL","clickBtnR"],setup(e,{emit:t}){const l=e;Object(o["a"])();return(a,o)=>Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,[s,Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("b",{onClick:o[0]||(o[0]=e=>t("closeMsgBox"))},"x")]),Object(c["createElementVNode"])("div",d,Object(c["toDisplayString"])(l.title),1),Object(c["createElementVNode"])("div",u,Object(c["toDisplayString"])(l.desc),1),Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",null,[null!=l.btnL?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",O,[Object(c["createVNode"])(n["a"],{style:{padding:"4px 16px"},title:l.btnL,onOnClick:o[1]||(o[1]=e=>t("clickBtnL"))},null,8,["title"])])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",null,[null!=l.btnR?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",v,[Object(c["createVNode"])(n["a"],{style:{padding:"4px 16px"},title:l.btnR,onOnClick:o[2]||(o[2]=e=>t("clickBtnR"))},null,8,["title"])])):Object(c["createCommentVNode"])("",!0)])])])],512)),[[c["vShow"],e.open]])}});l("77a6");const f=j;var k=f,m=l("8afd"),h=l("afbc");const g={id:"park"},B={id:"menu"},C={id:"menuBlock"},N={id:"subMenu"},E={id:"tableBlock"},V={id:"lockBox"},y=Object(c["createElementVNode"])("div",{id:"lockBg"},null,-1),L=[y];var T=Object(c["defineComponent"])({__name:"Park",setup(e){const t=Object(o["a"])(),l=Object(m["b"])({open:!1,title:"",btnL:null,btnR:null,desc:null}),r=Object(m["b"])({open:!1,title:"",btnL:null,btnR:null,desc:null}),s=(e,t,l=null,c=null,n=null)=>{e.title=t,e.desc=l,e.btnL=c,e.btnR=n,e.open=!0},i=()=>{j(),r.value.open=!1},b=Object(m["b"])(!1),d=Object(m["b"])([[2,1],[2,2],[3,2],[3,3]]),u=Object(m["b"])(null),p=Object(m["b"])([]),O=(Object(m["b"])([]),(e,t)=>{for(var l=0;l<e.length;l++)if(e[l][0]==t[0]&&e[l][1]==t[1]&&e[l][2]==t[2]&&e[l][3]==t[3])return l;return-1});Object(m["a"])(()=>{t.level>0?0==t.tableTopCards.length&&j():h["a"].push("/")});const v=()=>{t.tableTopCards.length=0,h["a"].push("/")},j=()=>{f(),y(),T(12)},f=()=>{const e=d.value[t.level-1];t.cards=[],t.tableTopCards=[];for(let l=1;l<=3;++l)for(let c=1;c<=3;++c)for(let n=1;n<=e[0];++n)for(let a=1;a<=e[1];++a)t.cards.push([l,c,n,a])},y=()=>{let e,l,c=t.cards.length;while(c>0)e=Math.floor(Math.random()*c),c--,l=t.cards[c],t.cards[c]=t.cards[e],t.cards[e]=l},T=e=>{for(let l=0;l<e;++l)t.tableTopCards.push(t.cards.pop())},w=e=>{let t=e;while(!t.classList.contains("card"))t=t.parentNode;let l=t.getAttribute("data-ary");if(l){let e=l.split(",").map(e=>parseInt(e)),t=O(p.value,e);if(t>=0)p.value.splice(t,1);else if(p.value.push(e),3==p.value.length){let e=x(p.value);R(e)}}},x=e=>{let t=!0;for(let c=0;c<=3;++c){let n=0;for(var l=0;l<=2;++l)n+=e[l][c];if(n%3>0){t=!1;break}}return t},R=(e=!0)=>{e?(b.value=!0,setTimeout(()=>{p.value.forEach(e=>{let l=O(t.tableTopCards,e);if(t.tableTopCards.length>12)t.tableTopCards.splice(l,1);else{let e=t.cards.length>0?t.cards.pop():[];t.tableTopCards.splice(l,1,e);let c=t.tableTopCards.filter(e=>0!=e.length);0==c.length&&s(r.value,"恭喜清空破關","","重選等級","再玩一次")}}),p.value=[],b.value=!1},500)):(b.value=!0,setTimeout((function(){p.value=[],b.value=!1}),300),s(l.value,"答錯ㄌ"))},S=()=>{let e=_();e.length>0?(p.value&&p.value.forEach((t,l)=>{let c=O(e,t);c<0?p.value.splice(l,1):e.splice(c,1)}),p.value.push(e.pop()),0==e.length&&R(!0)):t.cards.length>0?T(3):s(r.value,"遊戲結束","","重選等級","再玩一次")},M=()=>{let e=_();e.length>0?s(l.value,"有答案"):s(l.value,"沒答案")};function _(){let e=!1,l=[],c=Array.from(p.value);switch(p.value.length>0?t.tableTopCards.forEach(e=>{e.length>0&&O(p.value,e)<0&&l.push(e)}):l=Array.from(t.tableTopCards.filter(e=>e.length>0)),c.length){case 0:for(let t=0;t<l.length;++t){for(let n=t+1;n<l.length;++n){for(let a=n+1;a<l.length;++a)if(c=p.value.slice(),c.push(l[t],l[n],l[a]),e=x(c),e)break;if(e)break}if(e)break}break;case 1:for(let t=0;t<l.length;++t){for(let n=t+1;n<l.length;++n)if(c=p.value.slice(),c.push(l[t],l[n]),e=x(c),e)break;if(e)break}break;case 2:for(let t=0;t<l.length;++t)if(c=p.value.slice(),c.push(l[t]),e=x(c),e)break;break}return!e&&p.value.length>0?(p.value.length=0,_()):e?c:[]}return(e,o)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(k,{onCloseMsgBox:o[0]||(o[0]=e=>l.value.open=!1),open:l.value.open,title:l.value.title},null,8,["open","title"]),Object(c["createVNode"])(k,{onCloseMsgBox:o[1]||(o[1]=e=>r.value.open=!1),open:r.value.open,title:r.value.title,btnL:r.value.btnL,btnR:r.value.btnR,onClickBtnL:v,onClickBtnR:i},null,8,["open","title","btnL","btnR"]),Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",B,[Object(c["createElementVNode"])("div",C,[Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(n["a"],{title:"重選等級",onOnClick:v}),Object(c["createVNode"])(n["a"],{title:"重新開始",onOnClick:j}),Object(c["createVNode"])(n["a"],{title:"提示",onOnClick:S}),Object(c["createVNode"])(n["a"],{title:"無解答",onOnClick:M}),Object(c["createVNode"])(n["a"],{title:"查看剩餘牌組",onOnClick:o[2]||(o[2]=t=>e.$router.push("remaining"))})]),Object(c["createElementVNode"])("div",N,"剩下"+Object(c["toDisplayString"])(Object(c["unref"])(t).cards.length)+"張牌",1)])]),Object(c["createElementVNode"])("div",{id:"tableBoard",ref_key:"tableBoard",ref:u},[Object(c["createElementVNode"])("div",E,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(Object(c["unref"])(t).tableTopCards,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(a["a"],{key:e,v:e.join(","),onChooseCard:w,lock:O(p.value,e)>=0},null,8,["v","lock"]))),128))])],512)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",V,L,512),[[c["vShow"],b.value]])],64))}});l("fcf7");const w=T;t["default"]=w},"67de":function(e,t,l){},7439:function(e,t,l){"use strict";l("83f2")},"77a6":function(e,t,l){"use strict";l("67de")},"83f2":function(e,t,l){},ae8d:function(e,t,l){"use strict";var c=l("7a23");const n=["data-ary"],a=["innerHTML"];var o=Object(c["defineComponent"])({__name:"Card",props:{v:{type:String,required:!0},lock:{type:Boolean}},emits:["chooseCard"],setup(e,{emit:t}){const l=e;class o{constructor(){this.color="",this.iconfont="",this.style={},this.dt="",this.ct=0}}const r=new o;if(l.v.length>0){let e=l.v.split(",").map(e=>Number(e));switch(e[0]){case 1:r.iconfont="&#xa00"+e[2],r.style.transform="rotate(180deg)";break;case 2:r.iconfont="&#xb00"+e[2];break;case 3:r.iconfont="&#xc00"+e[2],r.style.fontWeight="bolder";break}switch(e[1]){case 1:r.color="red";break;case 2:r.color="green";break;case 3:r.color="blue";break}r.ct=e[3],r.dt=e.join(",")}return(l,o)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{"data-ary":Object(c["unref"])(r).dt,class:Object(c["normalizeClass"])(["card",[Object(c["unref"])(r).color,e.lock?"lock":""]]),style:Object(c["normalizeStyle"])(Object(c["unref"])(r).style)},[Object(c["createElementVNode"])("div",{onClick:o[0]||(o[0]=e=>t("chooseCard",e.target))},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(Object(c["unref"])(r).ct,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("i",{key:e,innerHTML:Object(c["unref"])(r).iconfont},null,8,a))),128))])],14,n))}});l("7439");const r=o;t["a"]=r},f326:function(e,t,l){},fcf7:function(e,t,l){"use strict";l("f326")}}]);
//# sourceMappingURL=chunk-70e9e058.83b544bf.js.map