(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38ce0531"],{"095f":function(e,t,l){"use strict";l("7df4")},"0d26":function(e,t,l){"use strict";l.r(t);var n=l("7a23"),a=l("2a7d"),c=l("ae8d"),o=l("e6f3");const b={class:"msgBox"},r=Object(n["createElementVNode"])("div",{class:"msgBg"},null,-1),i={class:"msgBlock"},u={class:"msgLayout"},d={class:"msgClose"},s=["innerHTML"],v=["innerHTML"],O={class:"msgCmd"},p={key:0},j={key:0};var m=Object(n["defineComponent"])({__name:"MsgBox",props:{open:{type:Boolean,required:!0},title:{type:String,required:!0},desc:{type:String},btnL:{type:String},btnR:{type:String}},emits:["closeMsgBox","clickBtnL","clickBtnR"],setup(e,{emit:t}){const l=e;Object(o["a"])();return(c,o)=>Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",b,[r,Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("b",{onClick:o[0]||(o[0]=e=>t("closeMsgBox"))},"x")]),Object(n["createElementVNode"])("div",{class:"msgTitle",innerHTML:l.title},null,8,s),Object(n["createElementVNode"])("div",{class:"msgDesc",innerHTML:l.desc},null,8,v),Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("div",null,[null!=l.btnL?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",p,[Object(n["createVNode"])(a["a"],{style:{padding:"4px 16px"},label:l.btnL,onOnClick:o[1]||(o[1]=e=>t("clickBtnL"))},null,8,["label"])])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",null,[null!=l.btnR?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",j,[Object(n["createVNode"])(a["a"],{style:{padding:"4px 16px"},label:l.btnR,onOnClick:o[2]||(o[2]=e=>t("clickBtnR"))},null,8,["label"])])):Object(n["createCommentVNode"])("",!0)])])])])],512)),[[n["vShow"],e.open]])}});l("095f");const g=m;var h=g,k=l("8afd"),f=l("afbc");const N={id:"park"},V={id:"bar"},C={class:"block"},E={id:"menu"},B={id:"minMenuBtn"},L={id:"subMenu"},T=Object(n["createElementVNode"])("br",null,null,-1),R={id:"minMeun"},w={id:"tableBoard"},y={class:"block"},M={id:"lockBox"},x=Object(n["createElementVNode"])("div",{id:"lockBg"},null,-1),D=[x];var S=Object(n["defineComponent"])({__name:"Park",setup(e){const t=Object(o["a"])(),l=Object(k["b"])("00:00:00"),b=Object(k["b"])(0);function r(){b.value=setInterval(()=>{let e=(new Date).getTime()-t.sDate.getTime(),n=new Date(e);l.value=Q(n.getHours()+t.timeZone,2,"0")+":"+Q(n.getMinutes(),2,"0")+":"+Q(n.getSeconds(),2,"0")},1e3)}const i=Object(k["b"])({open:!1,title:"",btnL:{label:null,event:null},btnR:{label:null,event:null},desc:null}),u=e=>{i.value.title=e.title,i.value.desc=e.desc,i.value.btnL=void 0===e.btnL?{label:null,event:null}:e.btnL,i.value.btnR=void 0===e.btnR?{label:null,event:null}:e.btnR,i.value.open=!0},d=()=>{null!==i.value.btnL&&i.value.btnL.event()},s=()=>{null!==i.value.btnR&&i.value.btnR.event()},v=Object(k["b"])(!1),O=Object(k["b"])([[2,1],[2,2],[3,2],[3,3]]),p=Object(k["b"])([]),j=(e,t)=>{for(var l=0;l<e.length;l++)if(e[l][0]==t[0]&&e[l][1]==t[1]&&e[l][2]==t[2]&&e[l][3]==t[3])return l;return-1},m=Object(k["b"])(!1);Object(k["a"])(()=>{t.level>0?0==t.tableTopCards.length?x():(l.value="00:00:00",clearInterval(b.value),r()):f["a"].push("/")});const g=()=>{t.tableTopCards.length=0,f["a"].push("/")},x=()=>{S(),I(),H(12),l.value="00:00:00",clearInterval(b.value),t.sDate=new Date,r()},S=()=>{t.cards.length=0,t.tableTopCards.length=0;const e=O.value[t.level-1];for(let l=1;l<=3;++l)for(let n=1;n<=3;++n)for(let a=1;a<=e[0];++a)for(let c=1;c<=e[1];++c)t.cards.push([l,n,a,c])},I=()=>{let e,l,n=t.cards.length;while(n>0)e=Math.floor(Math.random()*n),n--,l=t.cards[n],t.cards[n]=t.cards[e],t.cards[e]=l},H=e=>{for(let l=0;l<e;++l)t.tableTopCards.push(t.cards.pop())},_=()=>{let e=P();e.length>0?u({title:"有答案",btnL:{label:"再想想",event:()=>{i.value.open=!1}},btnR:{label:"給我提示",event:()=>{p.value&&p.value.forEach((t,l)=>{let n=j(e,t);n<0?p.value.splice(l,1):e.splice(n,1)}),p.value.push(e.pop()),0==e.length&&z(!0),i.value.open=!1}}}):t.cards.length>0?H(3):(clearInterval(b.value),u({title:l.value+"<br />遊戲結束",btnL:{label:"重選等級",event:g},btnR:{label:"再玩一次",event:Z}}))},A=()=>{f["a"].push("remaining")},q=e=>{e(),m.value=!1},F=e=>{let t=e;while(!t.classList.contains("card"))t=t.parentNode;let l=t.getAttribute("data-ary");if(l){let e=l.split(",").map(e=>parseInt(e)),t=j(p.value,e);if(t>=0)p.value.splice(t,1);else if(p.value.push(e),3==p.value.length){let e=J(p.value);z(e)}}},J=e=>{let t=!0;for(let n=0;n<=3;++n){let a=0;for(var l=0;l<=2;++l)a+=e[l][n];if(a%3>0){t=!1;break}}return t},z=(e=!0)=>{e?(v.value=!0,setTimeout(()=>{p.value.forEach(e=>{let n=j(t.tableTopCards,e);if(t.tableTopCards.length>12)t.tableTopCards.splice(n,1);else{let e=t.cards.length>0?t.cards.pop():[];t.tableTopCards.splice(n,1,e);let a=t.tableTopCards.filter(e=>0!=e.length);0==a.length&&(clearInterval(b.value),u({title:l.value+"<br />遊戲結束",btnL:{label:"重選等級",event:g},btnR:{label:"再玩一次",event:Z}}))}}),p.value=[],v.value=!1},300)):(v.value=!0,setTimeout((function(){p.value=[],v.value=!1}),300),u({title:"答錯ㄌ"}))};function P(){let e=!1,l=[],n=Array.from(p.value);switch(p.value.length>0?t.tableTopCards.forEach(e=>{e.length>0&&j(p.value,e)<0&&l.push(e)}):l=Array.from(t.tableTopCards.filter(e=>e.length>0)),n.length){case 0:for(let t=0;t<l.length;++t){for(let a=t+1;a<l.length;++a){for(let c=a+1;c<l.length;++c)if(n=p.value.slice(),n.push(l[t],l[a],l[c]),e=J(n),e)break;if(e)break}if(e)break}break;case 1:for(let t=0;t<l.length;++t){for(let a=t+1;a<l.length;++a)if(n=p.value.slice(),n.push(l[t],l[a]),e=J(n),e)break;if(e)break}break;case 2:for(let t=0;t<l.length;++t)if(n=p.value.slice(),n.push(l[t]),e=J(n),e)break;break}return!e&&p.value.length>0?(p.value.length=0,P()):e?n:[]}const Z=()=>{x(),i.value.open=!1},G=()=>{u({title:"確定要重新開始？",btnL:{label:"否",event:()=>{i.value.open=!1}},btnR:{label:"是",event:Z}})},K=()=>{u({title:"確定要重選等級？",btnL:{label:"否",event:()=>{i.value.open=!1}},btnR:{label:"是",event:g}})};function Q(e,t,l){let n=e.toString();while(n.length<t)n=l+n;return n}return(e,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(h,{onCloseMsgBox:o[0]||(o[0]=e=>i.value.open=!1),open:i.value.open,title:i.value.title,btnL:null===i.value.btnL.label?null:i.value.btnL.label,btnR:null===i.value.btnR.label?null:i.value.btnR.label,onClickBtnL:d,onClickBtnR:s},null,8,["open","title","btnL","btnR"]),Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("div",C,[Object(n["createElementVNode"])("div",E,[Object(n["createElementVNode"])("div",B,[Object(n["createVNode"])(a["a"],{icon:"",onOnClick:o[1]||(o[1]=e=>m.value=!0)})]),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(a["a"],{label:"重選等級",onOnClick:K}),Object(n["createVNode"])(a["a"],{label:"重新開始",onOnClick:G}),Object(n["createVNode"])(a["a"],{label:"沒答案",onOnClick:_}),Object(n["createVNode"])(a["a"],{label:"查看剩餘牌組",onOnClick:A,disabled:0===Object(n["unref"])(t).cards.length},null,8,["disabled"])])]),Object(n["createElementVNode"])("div",L,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(l.value),1),T,Object(n["createTextVNode"])(" 剩下"+Object(n["toDisplayString"])(Object(n["unref"])(t).cards.length)+"張牌 ",1)])])]),Object(n["createElementVNode"])("div",R,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"minMenuBg",onClick:o[2]||(o[2]=e=>m.value=!1)},null,512),[[n["vShow"],m.value]]),Object(n["createElementVNode"])("div",{id:"minMenuBlock",class:Object(n["normalizeClass"])(m.value?"open":"")},[Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(a["a"],{icon:"",onOnClick:o[3]||(o[3]=e=>m.value=!1)})]),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(a["a"],{label:"重選等級",onOnClick:o[4]||(o[4]=e=>q(K))})]),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(a["a"],{label:"重新開始",onOnClick:o[5]||(o[5]=e=>q(G))})]),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(a["a"],{label:"沒答案",onOnClick:o[6]||(o[6]=e=>q(_))})]),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(a["a"],{label:"查看剩餘牌組",onOnClick:o[7]||(o[7]=e=>q(A)),disabled:0===Object(n["unref"])(t).cards.length},null,8,["disabled"])])],2)]),Object(n["createElementVNode"])("div",w,[Object(n["createElementVNode"])("div",y,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(Object(n["unref"])(t).tableTopCards,e=>(Object(n["openBlock"])(),Object(n["createBlock"])(c["a"],{key:e,v:e.join(","),onChooseCard:F,lock:j(p.value,e)>=0,hover:!0},null,8,["v","lock"]))),128))])])]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",M,D,512),[[n["vShow"],v.value]])],64))}});l("1569");const I=S;t["default"]=I},1569:function(e,t,l){"use strict";l("d364")},"7df4":function(e,t,l){},d364:function(e,t,l){}}]);
//# sourceMappingURL=chunk-38ce0531.36774911.js.map